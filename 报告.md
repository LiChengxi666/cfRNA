# 生物信息学大作业（cfRNA）
## 环境配制和数据获取
在教学集群上，将conda虚拟环境的解释器加入环境变量：
```
export PATH=/data/2022-bioinfo-shared/softwares/miniconda3/envs/python-env/bin:$PATH
```
之后建立与数据文件夹的符号链接：
```
ln -s /data/2022-bioinfo-shared/data/quiz-I/exRNA-long .
ln -s /data/2022-bioinfo-shared/data/quiz-I/exRNA-short .
```
## 构建表达矩阵
### long RNA
这一步使用常规RNA-seq reads counting方法。对于一个bam文件使用一条featureCounts指令。使用```featureCounts_long.py```将这些指令写入```featureCounts_long.sh```脚本，然后上传至节点运行。
```
python featureCounts_long.py
sbatch featureCounts_long.sh
```
之后使用```summarize-table.py```将不同的counts merge到一个count matrix中：
```
python summarize_table.py \
 --indir output/counts_longRNA \
 --formatter '{}' \
 --sample-ids output/sample_id_long.txt \
 --row-field 0 \
 --row-name gene_id \
 --value-field 1 \
 --fillna \
 --output count.matrix.long.txt
```
